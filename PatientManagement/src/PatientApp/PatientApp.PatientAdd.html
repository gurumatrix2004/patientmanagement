<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content below * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced. * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * Delete the template below * * * * * * * * * * -->
<!-- * * * * * * * to get started with your project! * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->


<!-- Toolbar -->

<div class="content" role="main">

  
  <!-- Resources -->
  
  
  <div class="container">

    <div class="row">
    <div class="col-md-4">
    

    <fieldset class="scheduler-border">
      <legend class="scheduler-border"><h2>Patient Form</h2></legend>
     <form [formGroup]="patientObj.formgroup"> 
    <div class="form-group">
      <label for="name">Patient Name</label>
      <input type="text" formControlName="PatientNameControl" class="form-control" id="name" [(ngModel)]="patientObj.name">
      <div *ngIf="patientObj.formgroup.controls['PatientNameControl'].hasError('required')" class="alert alert-danger">
        Patient Name is required.
      </div>
    </div>
    <div class="form-group">
      <label for="address">Patient Address</label>
      <input type="text" [ngModelOptions]="{standalone: true}" class="form-control" id="address" [(ngModel)]="patientObj.address">
    </div>
    <div class="form-group">
      <label for="problem">Patient Problem</label>
      <input type="text" [ngModelOptions]="{standalone: true}" class="form-control" id="problem" [(ngModel)]="patientProbnlemObj.problem">
    </div>

    <div class="form-group">
      <label for="problem">Treatment Name</label>
      <input type="text" [ngModelOptions]="{standalone: true}" class="form-control" id="problem" [(ngModel)]="patientTreatment.treatmentName">
    </div>

    <div class="form-group">
      <label for="problem">Treatment Dose</label>
      <input type="text" [ngModelOptions]="{standalone: true}" class="form-control" id="problem" [(ngModel)]="patientTreatment.treatmentDose">
    </div>

    <div class="form-group">
      <input type="button" name="MemoryButton" class="btn btn-primary" value="Add Treatment In Memory" (click)="AddTreatmentInMemory()">
    </div>
    <div class="form-group">
      <input type="button" name="MemoryButton" class="btn btn-success" value="Add Problem In Memory" (click)="AddProblemInMemory()">
    </div>
    <div class="form-group">
      <input type="button" name="MemoryButton" class="btn btn-danger" value="Add Patient In Memory" (click)="AddInMemory()">
    </div>
    <div class="form-group">
      <input type="button" name="MemoryButton" class="btn btn-warning" [disabled]="patientObj.formgroup.invalid" value="Add Final To DB" (click)="AddAll()">
    </div>
    </form>

    </fieldset>
    
    

    <div class="ErrorsDiv">

      Patient Form Check : {{patientObj.formgroup.valid}}<br>
      

    </div>
    </div>
    


        <div class="col-md-8">
          <h2>Patient Details</h2>
         
          <table mat-table [dataSource]="dataSourceone" class="mat-elevation-z8" matSort>

            <!--- Note that these columns can be defined in any order.
                  The actual rendered columns are set as a property on the row definition" -->
          
            <!-- Position Column -->
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Patient Name. </th>
              <td mat-cell *matCellDef="let element">{{element.name}} </td>
            </ng-container>
          
            <!-- Name Column -->
            <ng-container matColumnDef="address">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Patient Address </th>
              <td mat-cell *matCellDef="let element"> {{element.address}} </td>
            </ng-container>

            <ng-container matColumnDef="lstproblems">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Patient Problems </th>
              
              <td mat-cell *matCellDef="let elementp">
              <table *ngIf="elementp.lstproblems.length>0" mat-table [dataSource]="getSourceTwo(elementp.lstproblems)" class="mat-elevation-z8">

              <ng-container matColumnDef="problem">

              <th mat-header-cell *matHeaderCellDef> Patient Problem Name </th>
              <td mat-cell *matCellDef="let element2" colspan="3"> {{element2.problem}} </td>

             </ng-container>

             <ng-container matColumnDef="treatments">
              <th mat-header-cell *matHeaderCellDef> Patient Treatments </th>
              
              <td mat-cell *matCellDef="let elementt">
                <table *ngIf="elementt.treatments.length>0" mat-table [dataSource]="getSourceThree(elementt.treatments)" class="mat-elevation-z8">

                  <ng-container matColumnDef="treatmentName">
                    <th mat-header-cell *matHeaderCellDef> Treatment Name </th>
                    <td mat-cell *matCellDef="let element3" colspan="3"> {{element3.treatmentName}} </td>
                  </ng-container>
                  <ng-container matColumnDef="treatmentDose">
                    <th mat-header-cell *matHeaderCellDef> Treatment Dose </th>
                    <td mat-cell *matCellDef="let element3" colspan="3"> {{element3.treatmentDose}} </td>
                  </ng-container>

                  <tr mat-header-row *matHeaderRowDef="displayedColumns3"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumns3;"></tr>

                </table>
              </td>
              </ng-container>
              

              
              <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns2;"></tr>
              </table>
            </td>


            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
  
        
  
           
          
        </div>



    </div>
      </div>

  <!-- Footer -->
  

  

</div>

<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content above * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced. * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * End of Placeholder * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->


